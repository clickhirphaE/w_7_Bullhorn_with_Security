<!DOCTYPE html>
<html lang="en"

      xmlns:th="www.thymeleaf.org"
      xmlns:sec="www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset=" UTF-8">
<title>homepage</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <!--google font-->
    <link href="https://fonts.googleapis.com/css?family=Great+Vibes&display=swap" rel="stylesheet">
    <!--link href="https://fonts.googleapis.com/css?family=Lobster&display=swap" rel="stylesheet"-->
    <style>

        h2{
            font-family: 'Great Vibes', cursive;

        }
        body{
            background-color: aliceblue;
            border-radius: 1px;
        }
        html{
            background-attachment: fixed;
            border-radius: 1px;
        }
        h1{
            mso-text-animation: ants-black;
            visibility: hidden;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <!-- Brand/logo -->
    <a class="navbar-brand" href="/">Home</a>

    <!-- Links -->
    <ul class="navbar-nav">
        <li class="nav-item" sec:authorize="isAuthenticated()">
        <a class="nav-link" href="/add">Add new Message</a>
        </li>
        <li class="nav-item" sec:authorize="isAuthenticated()">
            <a class="nav-link" href="/login">Log in</a>
        </li>
        <li class="nav-item" sec:authorize="isAuthenticated()">

            <a class="nav-link" href="/register">Register</a>
        </li>

        <li class="nav-item" sec:authorize="isAuthenticated()">
            <a class="nav-link" href="/logout">Logout</a></li>

            <!--welcoming area for the newly created account-->
        <li class="nav-item" sec:authorize="isAuthenticated()">
            <!--<a class="nav-link" href="#">Welcome< span th:text="${#authentication.name}"></span></a--></li>
    </ul>
</nav>
<p th:text="${message}" style="text-align: center"></p>
<div>
<div><div></div></div>
    <div class="container">
        <h2 style="text-decoration: #cccccc;  text-shadow: #f2f2f2; text-align: center; text-decoration-style: solid"><strong>Welcome to the Message body!</strong></h2>

        <div class="jumbotron">
            <h1 style="text-align: center; backface-visibility: inherit">Hello World!</h1>
            <p>
            <table align="center" style="width: 80%; margin-right: 12px ;margin-left: 12px;">

                <tr><td colspan="6">
                <tr>
                    <th>Title </th>
                    <th>content</th>
                    <th>postedby</th>

                </tr>
                <tr th:each="message :${messages}">
                    <td th:text="${message.title}"></td>
                    <td th:text="${message.content}"></td>
                    <td th:text="${message.postedby}"></td>

                    <div sec:authorize="hasAuthority('ADMIN')">

            <td> <a th:href="@{/update/{id}(id=${message.id})}">Update</a></td>
            <td> <a th:href="@{/detail/{id}(id=${message.id})}">Details</a></td>
            <td><a th:href="@{/delete/{id}(id=${message.id})}">Delete</a></td>
                    </div>
            </tr>

        </table>

            </p>
        </div>
    </div>

</div>
</body>
</html>